<?php

use CodeIgniter\HTTP\RequestInterface;
use CodeIgniter\HTTP\ResponseInterface;
use Modules\Layouts\Controllers\BaseController;

class Apartment extends BaseController
{
    public function initController(RequestInterface $request, ResponseInterface $response, LoggerInterface $logger)
    {
        parent::initController($request, $response, $logger); // TODO: Change the autogenerated stub
    }

    public function index(){
        $list_contract = [];
    }

    public function create(){

    }

    public function submitCreate(){

    }

    public function fetchMyContract(){
        $account_id = session()->get('auth_data')?->account_id;
        $list_contract = $this->GhContract->get("consultant_id = {$account_id}");

        return $this->response->setJSON([
            'status' => true,
            'contracts' => $list_contract,
            'contract_count' => count($list_contract)
        ]);
    }


}